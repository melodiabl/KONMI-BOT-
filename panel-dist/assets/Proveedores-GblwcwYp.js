import{c as Ws,j as e,a as se,r as S,f as ge,u as Ns,o as Ls,W as un,X as Rs,Y as os,b as hn,L as xn,Z as bs,_ as pn,I as R,$ as mn,a0 as jn,t as Ie,h as gn,n as fn,a1 as vn,i as ys,p as Q,B as _,S as zs,T as h,V as J,F as Cn,H as _e,m as z,q as O,A as Je,k as Xe,K as ks,s as es,l as De,y as Sn,z as bn,C as yn,E as zn,D as Te,M as Pe,v as Ee,w as Ae,a2 as Fe,x as Oe}from"./index-CRkNY6ry.js";import{v as kn,P as Mn,j as Ms,Q as ws,R as wn,C as We,c as Ne,S as $n,T as In,g as _n,x as Dn,U as $s,y as Tn,D as ss,m as Pn,w as En,z as Is,V as Ge,E as ns,A as _s,W as An,X as Ds,Y as Ts}from"./index.esm-CzniNAqg.js";import{u as He}from"./useMutation-tt7yEThG.js";import{u as ts}from"./useQuery-B78dU_LM.js";import{S as Ve,G as rs}from"./simple-grid-6k9JvjOk.js";import{S as Ye,a as Ue,b as Qe,c as qe}from"./stat-number-Cmk69z9o.js";import{F as E,S as Ce}from"./select-C8GCKjda.js";import{I as q}from"./input-BR2M-WI7.js";import{C as Ps}from"./card-header-s4sK_o_H.js";import{T as Fn,a as On,b as Es,c as Se,d as Wn,e as be}from"./tr-Cbx9FMhk.js";import{W as Le,a as ye}from"./wrap-CxrcFGT_.js";import{F}from"./form-label-DaOodn7p.js";import{u as Nn}from"./use-controllable-state-ixhYjrLh.js";import{u as Ln}from"./use-checkbox-CV8AuttE.js";import{I as is}from"./image-DYvxu-zB.js";import{M as Re,a as Be}from"./modal-footer-B3ZHaos3.js";import{T as Rn}from"./textarea-p1Zsad_O.js";const[Bn,Gn]=Ws({name:"CheckboxGroupContext",strict:!1});function Hn(p){return e.jsx(se.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...p,children:e.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function Vn(p){return e.jsx(se.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...p,children:e.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function Yn(p){const{isIndeterminate:v,isChecked:y,...g}=p,l=v?Vn:Hn;return y||v?e.jsx(se.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(l,{...g})}):null}function Un(p){const[v,y]=S.useState(p),[g,l]=S.useState(!1);return p!==v&&(l(!0),y(p)),g}const Qn={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},qn={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},Kn=os({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),Zn=os({from:{opacity:0},to:{opacity:1}}),Jn=os({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Bs=ge(function(v,y){const g=Gn(),l={...g,...v},$=Ns("Checkbox",l),a=Ls(v),{spacing:m="0.5rem",className:D,children:T,iconColor:G,iconSize:b,icon:X=e.jsx(Yn,{}),isChecked:f,isDisabled:H=g==null?void 0:g.isDisabled,onChange:ee,inputProps:ze,...K}=a;let he=f;g!=null&&g.value&&a.value&&(he=g.value.includes(a.value));let Z=ee;g!=null&&g.onChange&&a.value&&(Z=un(g.onChange,ee));const{state:B,getInputProps:V,getCheckboxProps:A,getLabelProps:ne,getRootProps:xe}=Ln({...K,isDisabled:H,isChecked:he,onChange:Z}),Y=Un(B.isChecked),I=S.useMemo(()=>({animation:Y?B.isIndeterminate?`${Zn} 20ms linear, ${Jn} 200ms linear`:`${Kn} 200ms linear`:void 0,...$.icon,...Rs({fontSize:b,color:G})}),[G,b,Y,B.isIndeterminate,$.icon]),j=S.cloneElement(X,{__css:I,isIndeterminate:B.isIndeterminate,isChecked:B.isChecked});return e.jsxs(se.label,{__css:{...qn,...$.container},className:hn("chakra-checkbox",D),...xe(),children:[e.jsx("input",{className:"chakra-checkbox__input",...V(ze,y)}),e.jsx(se.span,{__css:{...Qn,...$.control},className:"chakra-checkbox__control",...A(),children:j}),T&&e.jsx(se.span,{className:"chakra-checkbox__label",...ne(),__css:{marginStart:m,...$.label},children:T})]})});Bs.displayName="Checkbox";function As(p){return p&&bs(p)&&bs(p.target)}function Xn(p={}){const{defaultValue:v,value:y,onChange:g,isDisabled:l,isNative:$}=p,a=xn(g),[m,D]=Nn({value:y,defaultValue:v||[],onChange:a}),T=S.useCallback(b=>{if(!m)return;const X=As(b)?b.target.checked:!m.includes(b),f=As(b)?b.target.value:b,H=X?[...m,f]:m.filter(ee=>String(ee)!==String(f));D(H)},[D,m]),G=S.useCallback((b={})=>({...b,[$?"checked":"isChecked"]:m.some(f=>String(b.value)===String(f)),onChange:T}),[T,$,m]);return{value:m,isDisabled:l,onChange:T,setValue:D,getCheckboxProps:G}}function Gs(p){const{colorScheme:v,size:y,variant:g,children:l,isDisabled:$}=p,{value:a,onChange:m}=Xn(p),D=S.useMemo(()=>({size:y,onChange:m,colorScheme:v,value:a,variant:g,isDisabled:$}),[y,m,v,a,g,$]);return e.jsx(Bn,{value:D,children:l})}Gs.displayName="CheckboxGroup";function Fs(p){return pn(p,v=>v==="auto"?"auto":`span ${v}/span ${v}`)}const le=ge(function(v,y){const{area:g,colSpan:l,colStart:$,colEnd:a,rowEnd:m,rowSpan:D,rowStart:T,...G}=v,b=Rs({gridArea:g,gridColumn:Fs(l),gridRow:Fs(D),gridColumnStart:$,gridColumnEnd:a,gridRowStart:T,gridRowEnd:m});return e.jsx(se.div,{ref:y,__css:b,...G})});le.displayName="GridItem";const[et,Hs]=Ws({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),me=ge((p,v)=>{const y=Ns("Tag",p),g=Ls(p),l={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...y.container};return e.jsx(et,{value:y,children:e.jsx(se.span,{ref:v,...g,__css:l})})});me.displayName="Tag";const je=ge((p,v)=>{const y=Hs();return e.jsx(se.span,{ref:v,noOfLines:1,...p,__css:y.label})});je.displayName="TagLabel";const st=ge((p,v)=>e.jsx(R,{ref:v,verticalAlign:"top",marginEnd:"0.5rem",...p}));st.displayName="TagLeftIcon";const nt=ge((p,v)=>e.jsx(R,{ref:v,verticalAlign:"top",marginStart:"0.5rem",...p}));nt.displayName="TagRightIcon";const Vs=p=>e.jsx(R,{verticalAlign:"inherit",viewBox:"0 0 512 512",...p,children:e.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});Vs.displayName="TagCloseIcon";const as=ge((p,v)=>{const{isDisabled:y,children:g,...l}=p,a={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...Hs().closeButton};return e.jsx(se.button,{ref:v,"aria-label":"close",...l,type:"button",disabled:y,__css:a,children:g||e.jsx(Vs,{})})});as.displayName="TagCloseButton";var Ys={exports:{}};(function(p,v){(function(y,g){p.exports=g()})(jn,function(){var y=1e3,g=6e4,l=36e5,$="millisecond",a="second",m="minute",D="hour",T="day",G="week",b="month",X="quarter",f="year",H="date",ee="Invalid Date",ze=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,K=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,he={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(d){var n=["th","st","nd","rd"],r=d%100;return"["+d+(n[(r-20)%10]||n[r]||n[0])+"]"}},Z=function(d,n,r){var o=String(d);return!o||o.length>=n?d:""+Array(n+1-o.length).join(r)+d},B={s:Z,z:function(d){var n=-d.utcOffset(),r=Math.abs(n),o=Math.floor(r/60),i=r%60;return(n<=0?"+":"-")+Z(o,2,"0")+":"+Z(i,2,"0")},m:function d(n,r){if(n.date()<r.date())return-d(r,n);var o=12*(r.year()-n.year())+(r.month()-n.month()),i=n.clone().add(o,b),u=r-i<0,x=n.clone().add(o+(u?-1:1),b);return+(-(o+(r-i)/(u?i-x:x-i))||0)},a:function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},p:function(d){return{M:b,y:f,w:G,d:T,D:H,h:D,m,s:a,ms:$,Q:X}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(d){return d===void 0}},V="en",A={};A[V]=he;var ne="$isDayjsObject",xe=function(d){return d instanceof fe||!(!d||!d[ne])},Y=function d(n,r,o){var i;if(!n)return V;if(typeof n=="string"){var u=n.toLowerCase();A[u]&&(i=u),r&&(A[u]=r,i=u);var x=n.split("-");if(!i&&x.length>1)return d(x[0])}else{var C=n.name;A[C]=n,i=C}return!o&&i&&(V=i),i||!o&&V},I=function(d,n){if(xe(d))return d.clone();var r=typeof n=="object"?n:{};return r.date=d,r.args=arguments,new fe(r)},j=B;j.l=Y,j.i=xe,j.w=function(d,n){return I(d,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var fe=function(){function d(r){this.$L=Y(r.locale,null,!0),this.parse(r),this.$x=this.$x||r.x||{},this[ne]=!0}var n=d.prototype;return n.parse=function(r){this.$d=function(o){var i=o.date,u=o.utc;if(i===null)return new Date(NaN);if(j.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var x=i.match(ze);if(x){var C=x[2]-1||0,k=(x[7]||"0").substring(0,3);return u?new Date(Date.UTC(x[1],C,x[3]||1,x[4]||0,x[5]||0,x[6]||0,k)):new Date(x[1],C,x[3]||1,x[4]||0,x[5]||0,x[6]||0,k)}}return new Date(i)}(r),this.init()},n.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},n.$utils=function(){return j},n.isValid=function(){return this.$d.toString()!==ee},n.isSame=function(r,o){var i=I(r);return this.startOf(o)<=i&&i<=this.endOf(o)},n.isAfter=function(r,o){return I(r)<this.startOf(o)},n.isBefore=function(r,o){return this.endOf(o)<I(r)},n.$g=function(r,o,i){return j.u(r)?this[o]:this.set(i,r)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(r,o){var i=this,u=!!j.u(o)||o,x=j.p(r),C=function(ae,L){var U=j.w(i.$u?Date.UTC(i.$y,L,ae):new Date(i.$y,L,ae),i);return u?U:U.endOf(T)},k=function(ae,L){return j.w(i.toDate()[ae].apply(i.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(L)),i)},P=this.$W,M=this.$M,N=this.$D,ce="set"+(this.$u?"UTC":"");switch(x){case f:return u?C(1,0):C(31,11);case b:return u?C(1,M):C(0,M+1);case G:var re=this.$locale().weekStart||0,ie=(P<re?P+7:P)-re;return C(u?N-ie:N+(6-ie),M);case T:case H:return k(ce+"Hours",0);case D:return k(ce+"Minutes",1);case m:return k(ce+"Seconds",2);case a:return k(ce+"Milliseconds",3);default:return this.clone()}},n.endOf=function(r){return this.startOf(r,!1)},n.$set=function(r,o){var i,u=j.p(r),x="set"+(this.$u?"UTC":""),C=(i={},i[T]=x+"Date",i[H]=x+"Date",i[b]=x+"Month",i[f]=x+"FullYear",i[D]=x+"Hours",i[m]=x+"Minutes",i[a]=x+"Seconds",i[$]=x+"Milliseconds",i)[u],k=u===T?this.$D+(o-this.$W):o;if(u===b||u===f){var P=this.clone().set(H,1);P.$d[C](k),P.init(),this.$d=P.set(H,Math.min(this.$D,P.daysInMonth())).$d}else C&&this.$d[C](k);return this.init(),this},n.set=function(r,o){return this.clone().$set(r,o)},n.get=function(r){return this[j.p(r)]()},n.add=function(r,o){var i,u=this;r=Number(r);var x=j.p(o),C=function(M){var N=I(u);return j.w(N.date(N.date()+Math.round(M*r)),u)};if(x===b)return this.set(b,this.$M+r);if(x===f)return this.set(f,this.$y+r);if(x===T)return C(1);if(x===G)return C(7);var k=(i={},i[m]=g,i[D]=l,i[a]=y,i)[x]||1,P=this.$d.getTime()+r*k;return j.w(P,this)},n.subtract=function(r,o){return this.add(-1*r,o)},n.format=function(r){var o=this,i=this.$locale();if(!this.isValid())return i.invalidDate||ee;var u=r||"YYYY-MM-DDTHH:mm:ssZ",x=j.z(this),C=this.$H,k=this.$m,P=this.$M,M=i.weekdays,N=i.months,ce=i.meridiem,re=function(L,U,pe,ve){return L&&(L[U]||L(o,u))||pe[U].slice(0,ve)},ie=function(L){return j.s(C%12||12,L,"0")},ae=ce||function(L,U,pe){var ve=L<12?"AM":"PM";return pe?ve.toLowerCase():ve};return u.replace(K,function(L,U){return U||function(pe){switch(pe){case"YY":return String(o.$y).slice(-2);case"YYYY":return j.s(o.$y,4,"0");case"M":return P+1;case"MM":return j.s(P+1,2,"0");case"MMM":return re(i.monthsShort,P,N,3);case"MMMM":return re(N,P);case"D":return o.$D;case"DD":return j.s(o.$D,2,"0");case"d":return String(o.$W);case"dd":return re(i.weekdaysMin,o.$W,M,2);case"ddd":return re(i.weekdaysShort,o.$W,M,3);case"dddd":return M[o.$W];case"H":return String(C);case"HH":return j.s(C,2,"0");case"h":return ie(1);case"hh":return ie(2);case"a":return ae(C,k,!0);case"A":return ae(C,k,!1);case"m":return String(k);case"mm":return j.s(k,2,"0");case"s":return String(o.$s);case"ss":return j.s(o.$s,2,"0");case"SSS":return j.s(o.$ms,3,"0");case"Z":return x}return null}(L)||x.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(r,o,i){var u,x=this,C=j.p(o),k=I(r),P=(k.utcOffset()-this.utcOffset())*g,M=this-k,N=function(){return j.m(x,k)};switch(C){case f:u=N()/12;break;case b:u=N();break;case X:u=N()/3;break;case G:u=(M-P)/6048e5;break;case T:u=(M-P)/864e5;break;case D:u=M/l;break;case m:u=M/g;break;case a:u=M/y;break;default:u=M}return i?u:j.a(u)},n.daysInMonth=function(){return this.endOf(b).$D},n.$locale=function(){return A[this.$L]},n.locale=function(r,o){if(!r)return this.$L;var i=this.clone(),u=Y(r,o,!0);return u&&(i.$L=u),i},n.clone=function(){return j.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},d}(),te=fe.prototype;return I.prototype=te,[["$ms",$],["$s",a],["$m",m],["$H",D],["$W",T],["$M",b],["$y",f],["$D",H]].forEach(function(d){te[d[1]]=function(n){return this.$g(n,d[0],d[1])}}),I.extend=function(d,n){return d.$i||(d(n,fe,I),d.$i=!0),I},I.locale=Y,I.isDayjs=xe,I.unix=function(d){return I(1e3*d)},I.en=A[V],I.Ls=A,I.p={},I})})(Ys);var tt=Ys.exports;const ue=mn(tt),Os=[{value:"texto",label:"Texto"},{value:"imagen",label:"Imagen"},{value:"video",label:"Video"},{value:"audio",label:"Audio"},{value:"documento",label:"Documento"}],rt=[{value:"",label:"Todos"},{value:"pendiente",label:"Pendiente"},{value:"aprobado",label:"Aprobado"},{value:"rechazado",label:"Rechazado"}],it={animation:"pulse 2s infinite"},yt=()=>{var fs,vs,Cs,Ss;const[p,v]=S.useState(""),[y,g]=S.useState("all"),[l,$]=S.useState(null),[a,m]=S.useState({name:"",email:"",phone:"",website:"",address:"",description:"",specializations:[],paymentInfo:{method:"paypal",account:""},grupos:[],media:[]}),[D,T]=S.useState(""),[G,b]=S.useState(0),X=S.useRef(null),[f,H]=S.useState(null),[ee,ze]=S.useState(["texto","imagen","video","audio","documento"]),[K,he]=S.useState(!1),[Z,B]=S.useState([]),[V,A]=S.useState(!1),[ne,xe]=S.useState(""),[Y,I]=S.useState(""),[j,fe]=S.useState(""),[te,d]=S.useState(""),[n,r]=S.useState(null),{isOpen:o,onOpen:i,onClose:u}=Ie(),[x,C]=S.useState(0),[k,P]=S.useState(!1),[M,N]=S.useState(null),{isOpen:ce,onOpen:re,onClose:ie}=Ie(),{isOpen:ae,onOpen:L,onClose:U}=Ie(),{isOpen:pe,onOpen:ve,onClose:Ke}=Ie(),{isOpen:Us,onOpen:Qs,onClose:ls}=Ie(),W=gn(),de=fn(),{colorMode:qs}=vn(),ke=ys("white","gray.700"),Me=ys("gray.200","gray.600"),{data:Ze,isLoading:Ks}=ts("providers",Q.getProviders),{data:we}=ts("providerStats",Q.getProviderStats),{data:oe}=ts("groups",()=>Q.getGroups(1,100)),cs=He(s=>Q.createProvider(s),{onSuccess:()=>{de.invalidateQueries("providers"),de.invalidateQueries("providerStats"),ie(),en(),W({title:"Proveedor creado exitosamente",status:"success"})},onError:s=>{var t,c;W({title:"Error",description:((c=(t=s.response)==null?void 0:t.data)==null?void 0:c.message)||"Error al crear el proveedor",status:"error"})}}),ds=He(({id:s,data:t})=>Q.updateProvider(s,t),{onSuccess:()=>{de.invalidateQueries("providers"),de.invalidateQueries("providerStats"),U(),W({title:"Proveedor actualizado exitosamente",status:"success"})},onError:s=>{var t,c;W({title:"Error",description:((c=(t=s.response)==null?void 0:t.data)==null?void 0:c.message)||"Error al actualizar el proveedor",status:"error"})}}),Zs=He(s=>Q.deleteProvider(s),{onSuccess:()=>{de.invalidateQueries("providers"),de.invalidateQueries("providerStats"),W({title:"Proveedor eliminado exitosamente",status:"success"})},onError:s=>{var t,c;W({title:"Error",description:((c=(t=s.response)==null?void 0:t.data)==null?void 0:c.message)||"Error al eliminar el proveedor",status:"error"})}});He(({id:s,status:t})=>Q.toggleProviderStatus(s,t),{onSuccess:()=>{de.invalidateQueries("providers"),de.invalidateQueries("providerStats"),W({title:"Estado del proveedor actualizado",status:"success"})},onError:s=>{var t,c;W({title:"Error",description:((c=(t=s.response)==null?void 0:t.data)==null?void 0:c.message)||"Error al actualizar el estado",status:"error"})}});const us=async()=>{if(!(!f&&!l))try{let t=(await Q.getCapturedContent({grupo_id:f||void 0,tipo_contenido:ne||void 0,estado:Y||void 0,page:1,limit:20})).data||[];if(j&&(t=t.filter(c=>ue(c.fecha_captura).isAfter(ue(j).subtract(1,"day")))),te&&(t=t.filter(c=>ue(c.fecha_captura).isBefore(ue(te).add(1,"day")))),t.length>x&&x>0){const c=t.length-x;P(!0),W({title:"¡Nuevo contenido capturado!",description:`Se han detectado ${c} nuevo(s) contenido(s)`,status:"info",duration:5e3,isClosable:!0})}B(t),C(t.length)}catch(s){console.error("Error verificando nuevos contenidos:",s)}};S.useEffect(()=>{f||l?(A(!0),Q.getCapturedContent({grupo_id:f||void 0,tipo_contenido:ne||void 0,estado:Y||void 0,page:1,limit:20}).then(s=>{let t=s.data||[];j&&(t=t.filter(c=>ue(c.fecha_captura).isAfter(ue(j).subtract(1,"day")))),te&&(t=t.filter(c=>ue(c.fecha_captura).isBefore(ue(te).add(1,"day")))),B(t),C(t.length)}).finally(()=>A(!1))):(B([]),C(0))},[f,l,K,ne,Y,j,te]),S.useEffect(()=>{if(K&&(f||l)){const s=setInterval(()=>{us()},15e3);return N(s),()=>{s&&(clearInterval(s),N(null))}}else M&&(clearInterval(M),N(null))},[K,f,l]),S.useEffect(()=>()=>{M&&clearInterval(M)},[]);const Js=async()=>{var s,t;if(f){A(!0);try{await Q.startGroupMonitoring(f,ee),he(!0),W({title:"Monitoreo iniciado",status:"success"})}catch(c){W({title:"Error iniciando monitoreo",description:((t=(s=c==null?void 0:c.response)==null?void 0:s.data)==null?void 0:t.message)||c.message,status:"error"})}finally{A(!1)}}},Xs=async()=>{var s,t;if(f){A(!0);try{await Q.stopGroupMonitoring(f),he(!1),W({title:"Monitoreo detenido",status:"info"})}catch(c){W({title:"Error deteniendo monitoreo",description:((t=(s=c==null?void 0:c.response)==null?void 0:s.data)==null?void 0:t.message)||c.message,status:"error"})}finally{A(!1)}}},en=()=>{m({name:"",email:"",phone:"",website:"",address:"",description:"",specializations:[],paymentInfo:{method:"paypal",account:""},grupos:[],media:[]}),T(""),b(0)},sn=()=>{cs.mutate(a)},nn=()=>{l&&ds.mutate({id:l.id,data:a})},tn=s=>{window.confirm("¿Estás seguro de que quieres eliminar este proveedor?")&&Zs.mutate(s)},hs=s=>{var t;$(s),m({name:s.name,email:s.email,phone:s.phone,website:s.website,address:s.address,description:s.description,specializations:s.specializations||[],paymentInfo:s.paymentInfo,grupos:((t=s.grupos)==null?void 0:t.map(c=>c.id))||[],media:[]}),L()},rn=s=>{$(s),ve()},xs=()=>{D.trim()&&!a.specializations.includes(D.trim())&&(m({...a,specializations:[...a.specializations,D.trim()]}),T(""))},an=s=>{m({...a,specializations:a.specializations.filter(t=>t!==s)})},on=s=>{const t=Array.from(s.target.files||[]);m({...a,media:[...a.media,...t]})},ln=s=>{m({...a,media:a.media.filter((t,c)=>c!==s)})},cn=s=>s.type.startsWith("image/")?$s:s.type.startsWith("video/")?Ds:s.type.startsWith("audio/")?Ts:Ge,dn=s=>s.type.startsWith("image/")?"Imagen":s.type.startsWith("video/")?"Video":s.type.startsWith("audio/")?"Audio":"Documento",ps=s=>{if(s===0)return"0 Bytes";const t=1024,c=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,w)).toFixed(2))+" "+c[w]},ms=(Ze==null?void 0:Ze.filter(s=>{const t=s.name.toLowerCase().includes(p.toLowerCase())||s.email.toLowerCase().includes(p.toLowerCase()),c=y==="all"||s.status===y;return t&&c}))||[],js=async s=>{var t,c;if(window.confirm("¿Seguro que deseas eliminar este contenido?")){A(!0);try{await Q.deleteCapturedContent(s),B(w=>w.filter($e=>$e.id!==s)),W({title:"Contenido eliminado",status:"success"})}catch(w){W({title:"Error eliminando contenido",description:((c=(t=w==null?void 0:w.response)==null?void 0:t.data)==null?void 0:c.message)||w.message,status:"error"})}finally{A(!1)}}},gs=async s=>{var t,c;A(!0);try{B(w=>w.map($e=>$e.id===s?{...$e,estado:"aprobado"}:$e)),W({title:"Marcado como revisado",status:"success"})}catch(w){W({title:"Error al marcar como revisado",description:((c=(t=w==null?void 0:w.response)==null?void 0:t.data)==null?void 0:c.message)||w.message,status:"error"})}finally{A(!1)}};return Ks?e.jsxs(_,{textAlign:"center",py:10,children:[e.jsx(zs,{size:"xl"}),e.jsx(h,{mt:4,children:"Cargando proveedores..."})]}):e.jsxs(_,{children:[e.jsxs(J,{spacing:6,align:"stretch",children:[e.jsxs(Cn,{align:"center",justify:"space-between",children:[e.jsxs(_,{children:[e.jsx(_e,{size:"lg",children:"Gestión de Proveedores"}),e.jsx(h,{color:"gray.600",mt:1,children:"Administra proveedores, grupos y contenido multimedia"})]}),e.jsx(z,{leftIcon:e.jsx(kn,{}),colorScheme:"blue",onClick:re,children:"Nuevo Proveedor"})]}),we&&e.jsxs(Ve,{columns:{base:1,md:2,lg:4},spacing:6,children:[e.jsxs(Ye,{children:[e.jsx(Ue,{children:"Total Proveedores"}),e.jsx(Qe,{children:we.totalProviders||0}),e.jsxs(qe,{children:[e.jsx(R,{as:Mn,mr:1}),"Proveedores registrados"]})]}),e.jsxs(Ye,{children:[e.jsx(Ue,{children:"Activos"}),e.jsx(Qe,{children:we.activeProviders||0}),e.jsxs(qe,{children:[e.jsx(R,{as:Ms,mr:1}),"Proveedores activos"]})]}),e.jsxs(Ye,{children:[e.jsx(Ue,{children:"Total Aportes"}),e.jsx(Qe,{children:we.totalAportes||0}),e.jsxs(qe,{children:[e.jsx(R,{as:ws,mr:1}),"Aportes realizados"]})]}),e.jsxs(Ye,{children:[e.jsx(Ue,{children:"Total Pedidos"}),e.jsx(Qe,{children:we.totalPedidos||0}),e.jsxs(qe,{children:[e.jsx(R,{as:wn,mr:1}),"Pedidos atendidos"]})]})]}),e.jsx(We,{bg:ke,border:"1px",borderColor:Me,children:e.jsx(Ne,{children:e.jsxs(O,{spacing:4,children:[e.jsx(E,{maxW:"300px",children:e.jsx(q,{placeholder:"Buscar proveedores...",value:p,onChange:s=>v(s.target.value)})}),e.jsx(E,{maxW:"200px",children:e.jsxs(Ce,{value:y,onChange:s=>g(s.target.value),children:[e.jsx("option",{value:"all",children:"Todos los estados"}),e.jsx("option",{value:"active",children:"Activo"}),e.jsx("option",{value:"inactive",children:"Inactivo"}),e.jsx("option",{value:"pending",children:"Pendiente"}),e.jsx("option",{value:"suspended",children:"Suspendido"})]})})]})})}),e.jsxs(We,{bg:ke,border:"1px",borderColor:Me,children:[e.jsx(Ps,{children:e.jsx(_e,{size:"md",children:"Proveedores"})}),e.jsx(Ne,{children:ms.length===0?e.jsxs(Je,{status:"info",children:[e.jsx(Xe,{}),"No se encontraron proveedores"]}):e.jsxs(Fn,{variant:"simple",children:[e.jsx(On,{children:e.jsxs(Es,{children:[e.jsx(Se,{children:"Proveedor"}),e.jsx(Se,{children:"Contacto"}),e.jsx(Se,{children:"Grupos"}),e.jsx(Se,{children:"Estado"}),e.jsx(Se,{children:"Rating"}),e.jsx(Se,{children:"Acciones"})]})}),e.jsx(Wn,{children:ms.map(s=>{var t,c;return e.jsxs(Es,{children:[e.jsx(be,{children:e.jsxs(O,{children:[e.jsx(ks,{size:"sm",name:s.name}),e.jsxs(_,{children:[e.jsx(h,{fontWeight:"bold",children:s.name}),e.jsx(h,{fontSize:"sm",color:"gray.500",children:((t=s.specializations)==null?void 0:t.join(", "))||"Sin especializaciones"})]})]})}),e.jsx(be,{children:e.jsxs(J,{align:"start",spacing:1,children:[e.jsxs(h,{fontSize:"sm",children:[e.jsx(R,{as:$n,mr:2}),s.email]}),e.jsxs(h,{fontSize:"sm",children:[e.jsx(R,{as:In,mr:2}),s.phone]})]})}),e.jsx(be,{children:e.jsxs(Le,{children:[(c=s.grupos)==null?void 0:c.slice(0,2).map(w=>e.jsx(ye,{children:e.jsx(me,{size:"sm",colorScheme:"blue",children:e.jsx(je,{children:w.nombre})})},w.id)),s.grupos&&s.grupos.length>2&&e.jsx(ye,{children:e.jsx(me,{size:"sm",colorScheme:"gray",children:e.jsxs(je,{children:["+",s.grupos.length-2]})})})]})}),e.jsx(be,{children:e.jsx(es,{colorScheme:s.status==="active"?"green":s.status==="inactive"?"red":s.status==="pending"?"yellow":"gray",children:s.status==="active"?"Activo":s.status==="inactive"?"Inactivo":s.status==="pending"?"Pendiente":"Suspendido"})}),e.jsx(be,{children:e.jsxs(O,{children:[e.jsx(R,{as:ws,color:"yellow.400"}),e.jsxs(h,{children:[s.rating||0,"/5"]})]})}),e.jsx(be,{children:e.jsxs(O,{spacing:2,children:[e.jsx(De,{"aria-label":"Ver proveedor",icon:e.jsx(_n,{}),size:"sm",variant:"ghost",onClick:()=>rn(s)}),e.jsx(De,{"aria-label":"Editar proveedor",icon:e.jsx(Dn,{}),size:"sm",variant:"ghost",onClick:()=>hs(s)}),e.jsx(De,{"aria-label":"Ver media",icon:e.jsx($s,{}),size:"sm",variant:"ghost",onClick:()=>{$(s),Qs()}}),e.jsxs(Sn,{children:[e.jsx(bn,{as:De,"aria-label":"Más opciones",icon:e.jsx(Tn,{}),size:"sm",variant:"ghost"}),e.jsx(yn,{children:e.jsx(zn,{icon:e.jsx(ss,{}),onClick:()=>tn(s.id),children:"Eliminar"})})]})]})})]},s.id)})})]})})]}),e.jsxs(We,{bg:ke,border:"1px",borderColor:Me,mb:6,children:[e.jsx(Ps,{children:e.jsx(_e,{size:"md",children:"Captura Silenciosa de Grupo (Bot)"})}),e.jsx(Ne,{children:e.jsxs(J,{align:"start",spacing:4,children:[e.jsxs(O,{spacing:4,w:"full",children:[e.jsxs(E,{maxW:"200px",children:[e.jsx(F,{children:"Tipo de contenido"}),e.jsxs(Ce,{value:ne,onChange:s=>xe(s.target.value),children:[e.jsx("option",{value:"",children:"Todos"}),Os.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsxs(E,{maxW:"200px",children:[e.jsx(F,{children:"Estado"}),e.jsx(Ce,{value:Y,onChange:s=>I(s.target.value),children:rt.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs(E,{maxW:"180px",children:[e.jsx(F,{children:"Desde"}),e.jsx(q,{type:"date",value:j,onChange:s=>fe(s.target.value)})]}),e.jsxs(E,{maxW:"180px",children:[e.jsx(F,{children:"Hasta"}),e.jsx(q,{type:"date",value:te,onChange:s=>d(s.target.value)})]})]}),e.jsxs(E,{maxW:"300px",children:[e.jsx(F,{children:"Selecciona un grupo"}),e.jsx(Ce,{placeholder:"Seleccionar grupo",value:f||"",onChange:s=>H(Number(s.target.value)||null),children:(fs=oe==null?void 0:oe.data)==null?void 0:fs.map(s=>e.jsx("option",{value:s.id,children:s.nombre},s.id))})]}),e.jsxs(E,{children:[e.jsx(F,{children:"Tipos de contenido a capturar"}),e.jsx(Gs,{value:ee,onChange:s=>ze(s),children:e.jsx(O,{children:Os.map(s=>e.jsx(Bs,{value:s.value,children:s.label},s.value))})})]}),e.jsxs(O,{children:[e.jsx(z,{colorScheme:"green",onClick:Js,isLoading:V,isDisabled:!f||K,leftIcon:K?e.jsx(Ms,{}):e.jsx(Pn,{}),children:K?"Captura Activa":"Iniciar Captura"}),e.jsx(z,{colorScheme:"red",onClick:Xs,isLoading:V,isDisabled:!f||!K,children:"Detener Captura"}),M&&e.jsxs(O,{spacing:2,px:3,py:2,bg:"blue.50",borderRadius:"md",border:"1px",borderColor:"blue.200",children:[e.jsx(_,{w:2,h:2,bg:"green.400",borderRadius:"full",style:it}),e.jsx(h,{fontSize:"sm",color:"blue.700",fontWeight:"medium",children:"Monitoreo activo - Actualizando cada 15s"})]})]}),e.jsx(Te,{}),e.jsxs(_,{w:"full",children:[e.jsxs(O,{justify:"space-between",align:"center",mb:2,children:[e.jsxs(_e,{size:"sm",children:["Contenidos capturados ",l?`del proveedor: ${l.name}`:f?"del grupo seleccionado":""]}),Z.length>0&&e.jsxs(O,{spacing:2,children:[e.jsxs(es,{colorScheme:"blue",variant:"solid",px:3,py:1,borderRadius:"full",children:[Z.length," contenido(s)"]}),M&&e.jsx(es,{colorScheme:"green",variant:"outline",px:2,py:1,borderRadius:"full",children:e.jsxs(O,{spacing:1,children:[e.jsx(_,{w:2,h:2,bg:"green.400",borderRadius:"full"}),e.jsx(h,{fontSize:"xs",children:"En vivo"})]})}),e.jsx(z,{size:"xs",variant:"ghost",leftIcon:e.jsx(En,{}),onClick:us,isLoading:V,colorScheme:"blue",children:"Actualizar ahora"})]})]}),k&&e.jsxs(Je,{status:"info",variant:"left-accent",mb:4,borderRadius:"md",children:[e.jsx(Xe,{}),e.jsxs(_,{flex:"1",children:[e.jsx(h,{fontWeight:"bold",children:"¡Nuevo contenido detectado!"}),e.jsx(h,{fontSize:"sm",children:"Se han capturado nuevos contenidos. La lista se ha actualizado automáticamente."})]}),e.jsx(z,{size:"sm",variant:"ghost",onClick:()=>P(!1),ml:2,children:e.jsx(Is,{})})]}),V?e.jsx(zs,{}):Z.length===0?e.jsx(h,{color:"gray.500",children:"No hay contenido capturado para este grupo."}):e.jsx(Ve,{columns:{base:1,md:2,lg:3},spacing:4,children:Z.map(s=>e.jsx(We,{bg:ke,border:"1px",borderColor:Me,cursor:"pointer",onClick:()=>{r(s),i()},children:e.jsxs(Ne,{children:[e.jsx(h,{fontWeight:"bold",mb:1,children:s.tipo_contenido.toUpperCase()}),s.tipo_contenido==="imagen"&&e.jsx(is,{src:s.contenido,alt:"Imagen capturada",maxH:"200px",objectFit:"cover",mb:2}),s.tipo_contenido==="video"&&e.jsx(_,{mb:2,children:e.jsx("video",{src:s.contenido,controls:!0,style:{maxWidth:"100%"}})}),s.tipo_contenido==="audio"&&e.jsx(_,{mb:2,children:e.jsx("audio",{src:s.contenido,controls:!0})}),s.tipo_contenido==="documento"&&e.jsx(z,{as:"a",href:s.contenido,target:"_blank",leftIcon:e.jsx(Ge,{}),size:"sm",mb:2,children:"Ver documento"}),s.tipo_contenido==="texto"&&e.jsx(h,{fontSize:"sm",color:"gray.700",mb:2,children:s.contenido}),e.jsxs(O,{mt:2,spacing:2,children:[(s.tipo_contenido==="imagen"||s.tipo_contenido==="video"||s.tipo_contenido==="audio"||s.tipo_contenido==="documento")&&e.jsx(z,{size:"xs",leftIcon:e.jsx(ns,{}),as:"a",href:s.contenido,download:!0,target:"_blank",variant:"outline",children:"Descargar"}),e.jsx(z,{size:"xs",colorScheme:"red",leftIcon:e.jsx(ss,{}),onClick:()=>js(s.id),variant:"outline",children:"Eliminar"}),s.estado!=="aprobado"&&e.jsx(z,{size:"xs",colorScheme:"green",leftIcon:e.jsx(_s,{}),onClick:()=>gs(s.id),variant:"outline",children:"Revisado"})]}),e.jsx(h,{fontSize:"xs",color:"gray.500",children:new Date(s.fecha_captura).toLocaleString()}),e.jsxs(h,{fontSize:"xs",color:"gray.500",children:["Estado: ",s.estado]})]})},s.id))})]})]})})]})]}),e.jsxs(Pe,{isOpen:ce,onClose:ie,size:"xl",children:[e.jsx(Ee,{}),e.jsxs(Re,{children:[e.jsx(Ae,{children:"Crear Nuevo Proveedor"}),e.jsx(Fe,{}),e.jsx(Oe,{children:e.jsxs(J,{spacing:4,children:[e.jsxs(rs,{templateColumns:"repeat(2, 1fr)",gap:4,w:"full",children:[e.jsx(le,{children:e.jsxs(E,{isRequired:!0,children:[e.jsx(F,{children:"Nombre"}),e.jsx(q,{value:a.name,onChange:s=>m({...a,name:s.target.value}),placeholder:"Nombre del proveedor"})]})}),e.jsx(le,{children:e.jsxs(E,{isRequired:!0,children:[e.jsx(F,{children:"Email"}),e.jsx(q,{type:"email",value:a.email,onChange:s=>m({...a,email:s.target.value}),placeholder:"email@ejemplo.com"})]})}),e.jsx(le,{children:e.jsxs(E,{children:[e.jsx(F,{children:"Teléfono"}),e.jsx(q,{value:a.phone,onChange:s=>m({...a,phone:s.target.value}),placeholder:"+1234567890"})]})}),e.jsx(le,{children:e.jsxs(E,{children:[e.jsx(F,{children:"Sitio Web"}),e.jsx(q,{value:a.website,onChange:s=>m({...a,website:s.target.value}),placeholder:"https://ejemplo.com"})]})})]}),e.jsxs(E,{children:[e.jsx(F,{children:"Dirección"}),e.jsx(q,{value:a.address,onChange:s=>m({...a,address:s.target.value}),placeholder:"Dirección completa"})]}),e.jsxs(E,{children:[e.jsx(F,{children:"Descripción"}),e.jsx(Rn,{value:a.description,onChange:s=>m({...a,description:s.target.value}),placeholder:"Descripción del proveedor",rows:3})]}),e.jsxs(E,{children:[e.jsx(F,{children:"Especializaciones"}),e.jsxs(O,{children:[e.jsx(q,{value:D,onChange:s=>T(s.target.value),placeholder:"Agregar especialización",onKeyPress:s=>s.key==="Enter"&&xs()}),e.jsx(z,{onClick:xs,size:"sm",children:"Agregar"})]}),e.jsx(Le,{mt:2,children:a.specializations.map((s,t)=>e.jsx(ye,{children:e.jsxs(me,{size:"md",colorScheme:"blue",children:[e.jsx(je,{children:s}),e.jsx(as,{onClick:()=>an(s)})]})},t))})]}),e.jsxs(E,{children:[e.jsx(F,{children:"Grupos Asociados"}),e.jsx(Ce,{placeholder:"Seleccionar grupos",onChange:s=>{const t=parseInt(s.target.value);t&&!a.grupos.includes(t)&&m({...a,grupos:[...a.grupos,t]})},children:(vs=oe==null?void 0:oe.data)==null?void 0:vs.map(s=>e.jsxs("option",{value:s.id,children:[s.nombre," ",s.descripcion&&`- ${s.descripcion}`]},s.id))}),e.jsx(Le,{mt:2,children:a.grupos.map(s=>{var c;const t=(c=oe==null?void 0:oe.data)==null?void 0:c.find(w=>w.id===s);return e.jsx(ye,{children:e.jsxs(me,{size:"md",colorScheme:"green",children:[e.jsx(je,{children:t==null?void 0:t.nombre}),e.jsx(as,{onClick:()=>m({...a,grupos:a.grupos.filter(w=>w!==s)})})]})},s)})})]}),e.jsxs(E,{children:[e.jsx(F,{children:"Contenido Multimedia"}),e.jsxs(J,{spacing:3,align:"stretch",children:[e.jsxs(O,{children:[e.jsx(z,{leftIcon:e.jsx(An,{}),onClick:()=>{var s;return(s=X.current)==null?void 0:s.click()},colorScheme:"blue",variant:"outline",children:"Seleccionar Archivos"}),e.jsx(h,{fontSize:"sm",color:"gray.500",children:"Imágenes, videos, audio, documentos"})]}),e.jsx("input",{ref:X,type:"file",multiple:!0,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt",onChange:on,style:{display:"none"}}),a.media.length>0&&e.jsxs(_,{children:[e.jsxs(h,{fontSize:"sm",fontWeight:"bold",mb:2,children:["Archivos seleccionados (",a.media.length,"):"]}),e.jsx(J,{spacing:2,align:"stretch",children:a.media.map((s,t)=>e.jsxs(O,{p:3,bg:qs==="light"?"gray.50":"gray.700",borderRadius:"md",justify:"space-between",children:[e.jsxs(O,{children:[e.jsx(R,{as:cn(s),color:"blue.500"}),e.jsxs(_,{children:[e.jsx(h,{fontSize:"sm",fontWeight:"medium",children:s.name}),e.jsxs(h,{fontSize:"xs",color:"gray.500",children:[dn(s)," • ",ps(s.size)]})]})]}),e.jsx(De,{"aria-label":"Eliminar archivo",icon:e.jsx(Is,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>ln(t)})]},t))})]})]})]}),e.jsxs(rs,{templateColumns:"repeat(2, 1fr)",gap:4,w:"full",children:[e.jsx(le,{children:e.jsxs(E,{children:[e.jsx(F,{children:"Método de Pago"}),e.jsxs(Ce,{value:a.paymentInfo.method,onChange:s=>m({...a,paymentInfo:{...a.paymentInfo,method:s.target.value}}),children:[e.jsx("option",{value:"paypal",children:"PayPal"}),e.jsx("option",{value:"stripe",children:"Stripe"}),e.jsx("option",{value:"bank",children:"Transferencia Bancaria"}),e.jsx("option",{value:"crypto",children:"Criptomonedas"})]})]})}),e.jsx(le,{children:e.jsxs(E,{children:[e.jsx(F,{children:"Cuenta"}),e.jsx(q,{value:a.paymentInfo.account,onChange:s=>m({...a,paymentInfo:{...a.paymentInfo,account:s.target.value}}),placeholder:"Cuenta o ID de pago"})]})})]})]})}),e.jsxs(Be,{children:[e.jsx(z,{variant:"ghost",mr:3,onClick:ie,children:"Cancelar"}),e.jsx(z,{colorScheme:"blue",onClick:sn,isLoading:cs.isLoading,children:"Crear Proveedor"})]})]})]}),e.jsxs(Pe,{isOpen:ae,onClose:U,size:"xl",children:[e.jsx(Ee,{}),e.jsxs(Re,{children:[e.jsx(Ae,{children:"Editar Proveedor"}),e.jsx(Fe,{}),e.jsx(Oe,{children:e.jsx(J,{spacing:4,children:e.jsxs(rs,{templateColumns:"repeat(2, 1fr)",gap:4,w:"full",children:[e.jsx(le,{children:e.jsxs(E,{isRequired:!0,children:[e.jsx(F,{children:"Nombre"}),e.jsx(q,{value:a.name,onChange:s=>m({...a,name:s.target.value}),placeholder:"Nombre del proveedor"})]})}),e.jsx(le,{children:e.jsxs(E,{isRequired:!0,children:[e.jsx(F,{children:"Email"}),e.jsx(q,{type:"email",value:a.email,onChange:s=>m({...a,email:s.target.value}),placeholder:"email@ejemplo.com"})]})})]})})}),e.jsxs(Be,{children:[e.jsx(z,{variant:"ghost",mr:3,onClick:U,children:"Cancelar"}),e.jsx(z,{colorScheme:"blue",onClick:nn,isLoading:ds.isLoading,children:"Actualizar Proveedor"})]})]})]}),e.jsxs(Pe,{isOpen:pe,onClose:Ke,size:"xl",children:[e.jsx(Ee,{}),e.jsxs(Re,{children:[e.jsx(Ae,{children:"Detalles del Proveedor"}),e.jsx(Fe,{}),e.jsx(Oe,{children:l&&e.jsxs(J,{spacing:4,align:"stretch",children:[e.jsxs(O,{children:[e.jsx(ks,{size:"lg",name:l.name}),e.jsxs(_,{children:[e.jsx(_e,{size:"md",children:l.name}),e.jsx(h,{color:"gray.500",children:l.email})]})]}),e.jsx(Te,{}),e.jsxs(Ve,{columns:2,spacing:4,children:[e.jsxs(_,{children:[e.jsx(h,{fontWeight:"bold",children:"Contacto"}),e.jsxs(h,{children:["📧 ",l.email]}),e.jsxs(h,{children:["📱 ",l.phone]}),e.jsxs(h,{children:["🌐 ",l.website]}),e.jsxs(h,{children:["📍 ",l.address]})]}),e.jsxs(_,{children:[e.jsx(h,{fontWeight:"bold",children:"Estadísticas"}),e.jsxs(h,{children:["⭐ Rating: ",l.rating,"/5"]}),e.jsxs(h,{children:["📊 Aportes: ",l.totalAportes]}),e.jsxs(h,{children:["📋 Pedidos: ",l.totalPedidos]}),e.jsxs(h,{children:["⏱️ Tiempo respuesta: ",l.averageResponseTime,"min"]})]})]}),l.specializations&&l.specializations.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Te,{}),e.jsxs(_,{children:[e.jsx(h,{fontWeight:"bold",mb:2,children:"Especializaciones"}),e.jsx(Le,{children:l.specializations.map((s,t)=>e.jsx(ye,{children:e.jsx(me,{size:"md",colorScheme:"blue",children:e.jsx(je,{children:s})})},t))})]})]}),l.grupos&&l.grupos.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Te,{}),e.jsxs(_,{children:[e.jsx(h,{fontWeight:"bold",mb:2,children:"Grupos Asociados"}),e.jsx(Le,{children:l.grupos.map(s=>e.jsx(ye,{children:e.jsx(me,{size:"md",colorScheme:"green",children:e.jsx(je,{children:s.nombre})})},s.id))})]})]})]})}),e.jsxs(Be,{children:[e.jsx(z,{variant:"ghost",mr:3,onClick:Ke,children:"Cerrar"}),e.jsx(z,{colorScheme:"blue",onClick:()=>{Ke(),l&&hs(l)},children:"Editar"})]})]})]}),e.jsxs(Pe,{isOpen:Us,onClose:ls,size:"xl",children:[e.jsx(Ee,{}),e.jsxs(Re,{children:[e.jsx(Ae,{children:"Contenido Multimedia del Proveedor"}),e.jsx(Fe,{}),e.jsx(Oe,{children:l&&e.jsx(J,{spacing:4,children:l.media&&l.media.length>0?e.jsx(Ve,{columns:{base:1,md:2},spacing:4,w:"full",children:l.media.map(s=>e.jsx(We,{bg:ke,border:"1px",borderColor:Me,children:e.jsxs(Ne,{children:[s.type==="image"&&e.jsx(is,{src:s.url,alt:s.filename,borderRadius:"md",maxH:"200px",objectFit:"cover",mx:"auto"}),s.type==="video"&&e.jsxs(_,{bg:"gray.100",borderRadius:"md",p:4,textAlign:"center",children:[e.jsx(R,{as:Ds,size:"xl",color:"blue.500"}),e.jsx(h,{mt:2,fontSize:"sm",children:s.filename})]}),s.type==="audio"&&e.jsxs(_,{bg:"gray.100",borderRadius:"md",p:4,textAlign:"center",children:[e.jsx(R,{as:Ts,size:"xl",color:"purple.500"}),e.jsx(h,{mt:2,fontSize:"sm",children:s.filename})]}),s.type==="document"&&e.jsxs(_,{bg:"gray.100",borderRadius:"md",p:4,textAlign:"center",children:[e.jsx(R,{as:Ge,size:"xl",color:"green.500"}),e.jsx(h,{mt:2,fontSize:"sm",children:s.filename})]}),e.jsxs(J,{mt:3,spacing:2,children:[e.jsx(h,{fontSize:"sm",fontWeight:"bold",children:s.filename}),e.jsxs(h,{fontSize:"xs",color:"gray.500",children:[ps(s.size)," • ",new Date(s.uploadedAt).toLocaleDateString()]}),e.jsx(z,{leftIcon:e.jsx(ns,{}),size:"sm",variant:"outline",colorScheme:"blue",onClick:()=>window.open(s.url,"_blank"),children:"Descargar"})]})]})},s.id))}):e.jsxs(Je,{status:"info",children:[e.jsx(Xe,{}),"Este proveedor no tiene contenido multimedia"]})})}),e.jsx(Be,{children:e.jsx(z,{variant:"ghost",mr:3,onClick:ls,children:"Cerrar"})})]})]}),e.jsxs(Pe,{isOpen:o,onClose:u,size:"lg",children:[e.jsx(Ee,{}),e.jsxs(Re,{children:[e.jsx(Ae,{children:"Detalle de Contenido Capturado"}),e.jsx(Fe,{}),e.jsx(Oe,{children:n&&e.jsxs(J,{align:"start",spacing:4,children:[e.jsxs(h,{fontWeight:"bold",children:["Tipo: ",n.tipo_contenido.toUpperCase()]}),n.tipo_contenido==="imagen"&&e.jsx(is,{src:n.contenido,alt:"Imagen capturada",maxH:"300px",objectFit:"contain"}),n.tipo_contenido==="video"&&e.jsx(_,{children:e.jsx("video",{src:n.contenido,controls:!0,style:{maxWidth:"100%"}})}),n.tipo_contenido==="audio"&&e.jsx(_,{children:e.jsx("audio",{src:n.contenido,controls:!0})}),n.tipo_contenido==="documento"&&e.jsx(z,{as:"a",href:n.contenido,target:"_blank",leftIcon:e.jsx(Ge,{}),size:"sm",children:"Ver documento"}),n.tipo_contenido==="texto"&&e.jsx(h,{fontSize:"md",color:"gray.700",children:n.contenido}),e.jsx(Te,{}),e.jsxs(h,{fontSize:"sm",children:["Estado: ",n.estado]}),e.jsxs(h,{fontSize:"sm",children:["Fecha: ",new Date(n.fecha_captura).toLocaleString()]}),e.jsxs(h,{fontSize:"sm",children:["Grupo: ",((Cs=n.grupo)==null?void 0:Cs.nombre)||f]}),e.jsxs(h,{fontSize:"sm",children:["Usuario: ",((Ss=n.usuario)==null?void 0:Ss.username)||"-"]}),e.jsxs(h,{fontSize:"sm",children:["ID: ",n.id]}),e.jsxs(h,{fontSize:"sm",children:["Metadatos: ",n.metadata]}),e.jsxs(O,{mt:2,spacing:2,children:[(n.tipo_contenido==="imagen"||n.tipo_contenido==="video"||n.tipo_contenido==="audio"||n.tipo_contenido==="documento")&&e.jsx(z,{size:"sm",leftIcon:e.jsx(ns,{}),as:"a",href:n.contenido,download:!0,target:"_blank",variant:"outline",children:"Descargar"}),e.jsx(z,{size:"sm",colorScheme:"red",leftIcon:e.jsx(ss,{}),onClick:()=>{js(n.id),u()},variant:"outline",children:"Eliminar"}),n.estado!=="aprobado"&&e.jsx(z,{size:"sm",colorScheme:"green",leftIcon:e.jsx(_s,{}),onClick:()=>{gs(n.id),u()},variant:"outline",children:"Revisado"})]})]})}),e.jsx(Be,{children:e.jsx(z,{onClick:u,children:"Cerrar"})})]})]})]})};export{yt as Proveedores,yt as default};
//# sourceMappingURL=Proveedores-GblwcwYp.js.map
